(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{SqRf:function(t,e,n){"use strict";var o=n("TYT/"),r=n("pugT"),i=n("ea4N"),a=n("Valr"),l=n("29jt"),s=n("p+mS"),d=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.ngOnInit=function(){},t.prototype.inlineRangeChange=function(t){this.inlineRange=t},t.prototype.savePeriod=function(){var t=Object(a.v)(this.inlineRange.begin,"MM/dd/yyyy","en-US"),e=Object(a.v)(this.inlineRange.end,"MM/dd/yyyy","en-US");this.dialogRef.close(t+" - "+e)},t.prototype.closeDialog=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](i.d),o["\u0275\u0275directiveInject"](i.a))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-period-dialog"]],decls:9,vars:1,consts:[[1,"period-dialog"],[3,"rangeMode","dateRangesChange"],[1,"line-item"],[1,"right-item"],["mat-button","","color","primary",1,"cancel-dialog",3,"click"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"sat-calendar",1),o["\u0275\u0275listener"]("dateRangesChange",(function(t){return e.inlineRangeChange(t)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"footer"),o["\u0275\u0275elementStart"](3,"div",2),o["\u0275\u0275elementStart"](4,"div",3),o["\u0275\u0275elementStart"](5,"button",4),o["\u0275\u0275listener"]("click",(function(){return e.closeDialog()})),o["\u0275\u0275text"](6," Cancel "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"button",5),o["\u0275\u0275listener"]("click",(function(){return e.savePeriod()})),o["\u0275\u0275text"](8," Search "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("rangeMode",!0))},directives:[l.a,s.b],styles:["[_nghost-%COMP%]     .period-dialog{width:296px}[_nghost-%COMP%]     .period-dialog .mat-calendar-cell-semi-selected{background-color:rgba(71,47,146,.08)}[_nghost-%COMP%]     .period-dialog .mat-calendar-body-begin-range:not(.mat-calendar-body-end-range){border-radius:100% 0 0 100%;background-color:rgba(71,47,146,.08)}[_nghost-%COMP%]     .period-dialog .mat-calendar-body-end-range:not(.mat-calendar-body-begin-range){border-radius:0 100% 100% 0;background-color:rgba(71,47,146,.08)}[_nghost-%COMP%]     footer{padding:0 16px 16px}[_nghost-%COMP%]     footer button{margin-left:16px}"]}),t}(),u=n("OJ6B"),c=n("+0bg"),p=n("Wjhp"),m=n("QJY3");n.d(e,"a",(function(){return v}));var f=function(t){return{active:t}};function h(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",12),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var t=o["\u0275\u0275nextContext"]().$implicit;return o["\u0275\u0275nextContext"]().backOption(t)})),o["\u0275\u0275elementStart"](1,"span"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){var r=o["\u0275\u0275nextContext"]().$implicit,i=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](2,f,i.currentData===r)),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](r)}}function b(t,e){1&t&&o["\u0275\u0275element"](0,"span",13)}function x(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275template"](1,h,3,4,"button",10),o["\u0275\u0275template"](2,b,1,0,"span",11),o["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","divider"!=n),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","divider"===n)}}function g(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-list",14),o["\u0275\u0275element"](1,"span",13),o["\u0275\u0275elementStart"](2,"mat-list-item",15),o["\u0275\u0275listener"]("click",(function(t){return o["\u0275\u0275restoreView"](n),t.stopPropagation()})),o["\u0275\u0275elementStart"](3,"mat-slide-toggle",16),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().comparison=t}))("change",(function(){o["\u0275\u0275restoreView"](n);var t=o["\u0275\u0275nextContext"]();return t.changeComparison(t.comparison)})),o["\u0275\u0275text"](4," Comparison "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",r.comparison)}}var y=function(t,e,n){return{"period-box":t,"store-box":e,"list-box":n}},v=function(){function t(t){this.dialog=t,this.suscribe=new r.a,this.period=!1,this.store=!1,this.list=!1,this.light=!1,this.compareFlag=!1,this.select=new o.EventEmitter,this.compare=new o.EventEmitter,this.options=["ALL","Today","This Week","This Month","divider","Custom Period"],this.comparison=!1}return t.prototype.ngOnInit=function(){this.currentData=this.options[0]},t.prototype.backOption=function(t){var e=this;if("Custom Period"!==t)this.select.emit(t),this.currentData=t;else{var n=this.dialog.open(d,{autoFocus:!1,panelClass:"period-dialog-width"});this.suscribe.add(n.afterClosed().subscribe((function(t){t&&(e.select.emit(t),e.currentData=t)})))}},t.prototype.changeComparison=function(t){this.compare.emit(t)},t.prototype.ngOnDestroy=function(){this.suscribe&&this.suscribe.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](i.b))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-custom-dropdown"]],inputs:{period:"period",store:"store",list:"list",light:"light",compareFlag:"compareFlag",options:"options"},outputs:{select:"select",compare:"compare"},decls:12,vars:10,consts:[[1,"custom-dropdown",3,"ngClass"],["mat-button","",1,"standard-lignt",3,"matMenuTriggerFor","ngClass"],[1,"icon","icon-arrow_drop_down"],[1,"icon","icon-date_range"],[1,"icon","icon-outline-store"],[1,"icon","icon-format_list_bulleted"],[1,"custom-menu-dd"],["menu","matMenu"],[4,"ngFor","ngForOf"],["class","compare-list",4,"ngIf"],["mat-menu-item","",3,"ngClass","click",4,"ngIf"],["class","cf-divider",4,"ngIf"],["mat-menu-item","",3,"ngClass","click"],[1,"cf-divider"],[1,"compare-list"],[3,"click"],["color","accent","labelPosition","before",3,"ngModel","ngModelChange","change"]],template:function(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"button",1),o["\u0275\u0275elementStart"](2,"em"),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](4,"i",2),o["\u0275\u0275element"](5,"i",3),o["\u0275\u0275element"](6,"i",4),o["\u0275\u0275element"](7,"i",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"mat-menu",6,7),o["\u0275\u0275template"](10,x,3,2,"div",8),o["\u0275\u0275template"](11,g,5,1,"mat-list",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275reference"](9);o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction3"](6,y,e.period,e.store,e.list)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("matMenuTriggerFor",n)("ngClass",e.light?" light":null),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.currentData),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngForOf",e.options),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.compareFlag)}},directives:[a.j,s.b,u.c,u.d,a.k,a.l,u.a,c.a,c.b,p.a,m.k,m.n],styles:[".cf-divider[_ngcontent-%COMP%]{overflow:hidden;height:1px;width:100%;text-indent:-9898px;background:rgba(0,0,0,.12);margin:4px 0;display:block}i.icon[_ngcontent-%COMP%]{color:rgba(4,21,39,.58)}  .compare-list{padding-top:0}  .compare-list .mat-slide-toggle-content{font-size:14px}  .mat-menu-item.active{background-color:rgba(82,53,155,.12)}  .custom-dropdown button.mat-button{padding-left:8px;padding-right:4px;min-width:48px;margin:2px 0}  .custom-dropdown button.mat-button .mat-button-wrapper{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:14px;font-weight:400;text-transform:none}  .custom-dropdown button.mat-button .mat-button-wrapper em{font-style:normal}  .custom-dropdown button.mat-button .mat-button-wrapper i.icon-date_range,   .custom-dropdown button.mat-button .mat-button-wrapper i.icon-format_list_bulleted,   .custom-dropdown button.mat-button .mat-button-wrapper i.icon-outline-store{display:none}  .custom-dropdown.list-box,   .custom-dropdown.period-box,   .custom-dropdown.store-box{padding-left:4px;padding-right:4px}@media only screen and (max-width:700px){  .custom-dropdown.list-box button.mat-button,   .custom-dropdown.period-box button.mat-button,   .custom-dropdown.store-box button.mat-button{border-radius:500rem;padding:0;width:40px;height:40px;min-width:40px;margin:0}}@media only screen and (max-width:700px){  .custom-dropdown.list-box button.mat-button .mat-button-wrapper em,   .custom-dropdown.period-box button.mat-button .mat-button-wrapper em,   .custom-dropdown.store-box button.mat-button .mat-button-wrapper em{display:none}}  .custom-dropdown.list-box button.mat-button .mat-button-wrapper i.icon,   .custom-dropdown.period-box button.mat-button .mat-button-wrapper i.icon,   .custom-dropdown.store-box button.mat-button .mat-button-wrapper i.icon{margin-left:8px}@media only screen and (max-width:700px){  .custom-dropdown.period-box button.mat-button .mat-button-wrapper i.icon.icon-date_range{display:block}  .custom-dropdown.period-box button.mat-button .mat-button-wrapper i.icon.icon-arrow_drop_down{display:none}}@media only screen and (max-width:700px){  .custom-dropdown.store-box button.mat-button .mat-button-wrapper i.icon.icon-outline-store{display:block}  .custom-dropdown.store-box button.mat-button .mat-button-wrapper i.icon.icon-arrow_drop_down{display:none}}@media only screen and (max-width:700px){  .custom-dropdown.list-box button.mat-button .mat-button-wrapper i.icon.icon-format_list_bulleted{display:block}  .custom-dropdown.list-box button.mat-button .mat-button-wrapper i.icon.icon-arrow_drop_down{display:none}}  .custom-dropdown.active button.mat-button .mat-button-wrapper i.icon{color:#2fb5c0}"]}),t}()},qb46:function(t,e,n){t.exports=function(t){"use strict";var e=(t=t&&t.hasOwnProperty("default")?t.default:t).helpers,n=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),o={toTextLines:function(t){var n,o=[];for(t=[].concat(t);t.length;)"string"==typeof(n=t.pop())?o.unshift.apply(o,n.split("\n")):Array.isArray(n)?t.push.apply(t,n):e.isNullOrUndef(t)||o.unshift(""+n);return o},toFontString:function(t){return!t||e.isNullOrUndef(t.size)||e.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family},textSize:function(t,e,n){var o,r=[].concat(e),i=r.length,a=t.font,l=0;for(t.font=n.string,o=0;o<i;++o)l=Math.max(t.measureText(r[o]).width,l);return t.font=a,{height:i*n.lineHeight,width:l}},parseFont:function(n){var r=t.defaults.global,i=e.valueOrDefault(n.size,r.defaultFontSize),a={family:e.valueOrDefault(n.family,r.defaultFontFamily),lineHeight:e.options.toLineHeight(n.lineHeight,i),size:i,style:e.valueOrDefault(n.style,r.defaultFontStyle),weight:e.valueOrDefault(n.weight,null),string:""};return a.string=o.toFontString(a),a},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},arrayDiff:function(t,e){var n,o,r,i,a=t.slice(),l=[];for(n=0,r=e.length;n<r;++n)-1===(o=a.indexOf(i=e[n]))?l.push([i,1]):a.splice(o,1);for(n=0,r=a.length;n<r;++n)l.push([a[n],-1]);return l},rasterize:function(t){return Math.round(t*n)/n}};function r(t,e){var n=e.x,o=e.y;if(null===n)return{x:0,y:-1};if(null===o)return{x:1,y:0};var r=t.x-n,i=t.y-o,a=Math.sqrt(r*r+i*i);return{x:a?r/a:0,y:a?i/a:-1}}function i(t,e,n){var o=0;return t<n.left?o|=1:t>n.right&&(o|=2),e<n.top?o|=8:e>n.bottom&&(o|=4),o}function a(t,e){var n,o,r=e.anchor,a=t;return e.clamp&&(a=function(t,e){for(var n,o,r,a=t.x0,l=t.y0,s=t.x1,d=t.y1,u=i(a,l,e),c=i(s,d,e);u|c&&!(u&c);)8&(n=u||c)?(o=a+(s-a)*(e.top-l)/(d-l),r=e.top):4&n?(o=a+(s-a)*(e.bottom-l)/(d-l),r=e.bottom):2&n?(r=l+(d-l)*(e.right-a)/(s-a),o=e.right):1&n&&(r=l+(d-l)*(e.left-a)/(s-a),o=e.left),n===u?u=i(a=o,l=r,e):c=i(s=o,d=r,e);return{x0:a,x1:s,y0:l,y1:d}}(a,e.area)),"start"===r?(n=a.x0,o=a.y0):"end"===r?(n=a.x1,o=a.y1):(n=(a.x0+a.x1)/2,o=(a.y0+a.y1)/2),function(t,e,n,o,r){switch(r){case"center":n=o=0;break;case"bottom":n=0,o=1;break;case"right":n=1,o=0;break;case"left":n=-1,o=0;break;case"top":n=0,o=-1;break;case"start":n=-n,o=-o;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),o=Math.sin(r)}return{x:t,y:e,vx:n,vy:o}}(n,o,t.vx,t.vy,e.align)}var l=function(t,e){var n=(t.startAngle+t.endAngle)/2,o=Math.cos(n),r=Math.sin(n),i=t.innerRadius,l=t.outerRadius;return a({x0:t.x+o*i,y0:t.y+r*i,x1:t.x+o*l,y1:t.y+r*l,vx:o,vy:r},e)},s=function(t,e){var n=r(t,e.origin),o=n.x*t.radius,i=n.y*t.radius;return a({x0:t.x-o,y0:t.y-i,x1:t.x+o,y1:t.y+i,vx:n.x,vy:n.y},e)},d=function(t,e){var n=r(t,e.origin),o=t.x,i=t.y,l=0,s=0;return t.horizontal?(o=Math.min(t.x,t.base),l=Math.abs(t.base-t.x)):(i=Math.min(t.y,t.base),s=Math.abs(t.base-t.y)),a({x0:o,y0:i+s,x1:o+l,y1:i,vx:n.x,vy:n.y},e)},u=function(t,e){var n=r(t,e.origin);return a({x0:t.x,y0:t.y,x1:t.x,y1:t.y,vx:n.x,vy:n.y},e)},c=t.helpers,p=o.rasterize;function m(t){var e=t._model.horizontal,n=t._scale||e&&t._xScale||t._yScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var o=n.getBasePixel();return e?{x:o,y:null}:{x:null,y:o}}function f(t,e,n){var o=t.shadowBlur,r=n.stroked,i=p(n.x),a=p(n.y),l=p(n.w);r&&t.strokeText(e,i,a,l),n.filled&&(o&&r&&(t.shadowBlur=0),t.fillText(e,i,a,l),o&&r&&(t.shadowBlur=o))}var h=function(t,e,n,o){var r=this;r._config=t,r._index=o,r._model=null,r._rects=null,r._ctx=e,r._el=n};c.extend(h.prototype,{_modelize:function(e,n,r,i){var a,p=this._index,f=c.options.resolve,h=o.parseFont(f([r.font,{}],i,p)),b=f([r.color,t.defaults.global.defaultFontColor],i,p);return{align:f([r.align,"center"],i,p),anchor:f([r.anchor,"center"],i,p),area:i.chart.chartArea,backgroundColor:f([r.backgroundColor,null],i,p),borderColor:f([r.borderColor,null],i,p),borderRadius:f([r.borderRadius,0],i,p),borderWidth:f([r.borderWidth,0],i,p),clamp:f([r.clamp,!1],i,p),clip:f([r.clip,!1],i,p),color:b,display:e,font:h,lines:n,offset:f([r.offset,0],i,p),opacity:f([r.opacity,1],i,p),origin:m(this._el),padding:c.options.toPadding(f([r.padding,0],i,p)),positioner:(a=this._el,a instanceof t.elements.Arc?l:a instanceof t.elements.Point?s:a instanceof t.elements.Rectangle?d:u),rotation:f([r.rotation,0],i,p)*(Math.PI/180),size:o.textSize(this._ctx,n,h),textAlign:f([r.textAlign,"start"],i,p),textShadowBlur:f([r.textShadowBlur,0],i,p),textShadowColor:f([r.textShadowColor,b],i,p),textStrokeColor:f([r.textStrokeColor,b],i,p),textStrokeWidth:f([r.textStrokeWidth,0],i,p)}},update:function(t){var e,n,r,i=this,a=null,l=null,s=i._index,d=i._config,u=c.options.resolve([d.display,!0],t,s);u&&(n=c.valueOrDefault(c.callback(d.formatter,[e=t.dataset.data[s],t]),e),(r=c.isNullOrUndef(n)?[]:o.toTextLines(n)).length&&(l=function(t){var e=t.borderWidth||0,n=t.padding,o=t.size.height,r=t.size.width,i=-r/2,a=-o/2;return{frame:{x:i-n.left-e,y:a-n.top-e,w:r+n.width+2*e,h:o+n.height+2*e},text:{x:i,y:a,w:r,h:o}}}(a=i._modelize(u,r,d,t)))),i._model=a,i._rects=l},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n,r=t.ctx,i=this._model,a=this._rects;this.visible()&&(r.save(),i.clip&&(n=i.area,r.beginPath(),r.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),r.clip()),r.globalAlpha=o.bound(0,i.opacity,1),r.translate(p(e.x),p(e.y)),r.rotate(i.rotation),function(t,e,n){var o=n.backgroundColor,r=n.borderColor,i=n.borderWidth;(o||r&&i)&&(t.beginPath(),c.canvas.roundedRect(t,p(e.x)+i/2,p(e.y)+i/2,p(e.w)-i,p(e.h)-i,n.borderRadius),t.closePath(),o&&(t.fillStyle=o,t.fill()),r&&i&&(t.strokeStyle=r,t.lineWidth=i,t.lineJoin="miter",t.stroke()))}(r,a.frame,i),function(t,e,n,o){var r,i=o.textAlign,a=o.color,l=!!a,s=o.font,d=e.length,u=o.textStrokeColor,c=o.textStrokeWidth,p=u&&c;if(d&&(l||p))for(n=function(t,e,n){var o=n.lineHeight,r=t.w,i=t.x;return"center"===e?i+=r/2:"end"!==e&&"right"!==e||(i+=r),{h:o,w:r,x:i,y:t.y+o/2}}(n,i,s),t.font=s.string,t.textAlign=i,t.textBaseline="middle",t.shadowBlur=o.textShadowBlur,t.shadowColor=o.textShadowColor,l&&(t.fillStyle=a),p&&(t.lineJoin="round",t.lineWidth=c,t.strokeStyle=u),r=0,d=e.length;r<d;++r)f(t,e[r],{stroked:p,filled:l,w:n.w,x:n.x,y:n.y+n.h*r})}(r,i.lines,a.text,i),r.restore())}});var b=Number.MIN_SAFE_INTEGER||-9007199254740991,x=Number.MAX_SAFE_INTEGER||9007199254740991;function g(t,e,n){var o=Math.cos(n),r=Math.sin(n),i=e.x,a=e.y;return{x:i+o*(t.x-i)-r*(t.y-a),y:a+r*(t.x-i)+o*(t.y-a)}}function y(t,e){var n,o,r,i=x,a=b,l=e.origin;for(n=0;n<t.length;++n)r=e.vx*((o=t[n]).x-l.x)+e.vy*(o.y-l.y),i=Math.min(i,r),a=Math.max(a,r);return{min:i,max:a}}function v(t,e){var n=e.x-t.x,o=e.y-t.y,r=Math.sqrt(n*n+o*o);return{vx:(e.x-t.x)/r,vy:(e.y-t.y)/r,origin:t,ln:r}}var w=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function _(t,e,n){var o=e.positioner(t,e),r=o.vx,i=o.vy;if(!r&&!i)return{x:o.x,y:o.y};var a=n.w,l=n.h,s=e.rotation,d=Math.abs(a/2*Math.cos(s))+Math.abs(l/2*Math.sin(s)),u=Math.abs(a/2*Math.sin(s))+Math.abs(l/2*Math.cos(s)),c=1/Math.max(Math.abs(r),Math.abs(i));return d*=r*c,u*=i*c,{x:o.x+(d+=e.offset*r),y:o.y+(u+=e.offset*i)}}t.helpers.extend(w.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this._rect;return!((t=g(t,this.center(),-this._rotation)).x<e.x-1||t.y<e.y-1||t.x>e.x+e.w+2||t.y>e.y+e.h+2)},intersects:function(t){var e,n,o,r=this._points(),i=t._points(),a=[v(r[0],r[1]),v(r[0],r[3])];for(this._rotation!==t._rotation&&a.push(v(i[0],i[1]),v(i[0],i[3])),e=0;e<a.length;++e)if(n=y(r,a[e]),o=y(i,a[e]),n.max<o.min||o.max<n.min)return!1;return!0},_points:function(){var t=this._rect,e=this._rotation,n=this.center();return[g({x:t.x,y:t.y},n,e),g({x:t.x+t.w,y:t.y},n,e),g({x:t.x+t.w,y:t.y+t.h},n,e),g({x:t.x,y:t.y+t.h},n,e)]}});var k={prepare:function(t){var e,n,o,r,i,a=[];for(e=0,o=t.length;e<o;++e)for(n=0,r=t[e].length;n<r;++n)a.push(i=t[e][n]),i.$layout={_box:new w,_hidable:!1,_visible:!0,_set:e,_idx:n};return a.sort((function(t,e){var n=t.$layout,o=e.$layout;return n._idx===o._idx?n._set-o._set:o._idx-n._idx})),this.update(a),a},update:function(t){var e,n,o,r,i,a=!1;for(e=0,n=t.length;e<n;++e)r=(o=t[e]).model(),(i=o.$layout)._hidable=r&&"auto"===r.display,i._visible=o.visible(),a|=i._hidable;a&&function(t){var e,n,o,r,i,a;for(e=0,n=t.length;e<n;++e)(r=(o=t[e]).$layout)._visible&&(i=o.geometry(),a=_(o._el._model,o.model(),i),r._box.update(a,i,o.rotation()));!function(t,e){var n,o,r,i;for(n=t.length-1;n>=0;--n)for(r=t[n].$layout,o=n-1;o>=0&&r._visible;--o)(i=t[o].$layout)._visible&&r._box.intersects(i._box)&&e(r,i)}(t,(function(t,e){var n=t._hidable,o=e._hidable;n&&o||o?e._visible=!1:n&&(t._visible=!1)}))}(t)},lookup:function(t,e){var n,o;for(n=t.length-1;n>=0;--n)if((o=t[n].$layout)&&o._visible&&o._box.contains(e))return{dataset:o._set,label:t[n]};return null},draw:function(t,e){var n,o,r,i,a,l;for(n=0,o=e.length;n<o;++n)(i=(r=e[n]).$layout)._visible&&(a=r.geometry(),l=_(r._el._view,r.model(),a),i._box.update(l,a,r.rotation()),r.draw(t,l))}},C=t.helpers,M=t.helpers;function S(t,e,n){var o=e&&e[n.dataset];if(o){var r=n.label,i=r.$context;!0===M.callback(o,[i])&&(t.$datalabels._dirty=!0,r.update(i))}}t.defaults.global.plugins.datalabels={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(t){if(C.isNullOrUndef(t))return null;var e,n,o,r=t;if(C.isObject(t))if(C.isNullOrUndef(t.label))if(C.isNullOrUndef(t.r))for(r="",o=0,n=(e=Object.keys(t)).length;o<n;++o)r+=(0!==o?", ":"")+e[o]+": "+t[e[o]];else r=t.r;else r=t.label;return""+r},listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0};var O={id:"datalabels",beforeInit:function(t){t.$datalabels={_actives:[]}},beforeUpdate:function(t){var e=t.$datalabels;e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var o,r,i,a=e.index,l=t.$datalabels,s=l._datasets[a]=[],d=t.isDatasetVisible(a),u=t.data.datasets[a],c=function(t,e){var n=t.datalabels;return!1===n?null:(!0===n&&(n={}),M.merge({},[e,n]))}(u,n),p=e.meta.data||[],m=p.length,f=t.ctx;for(f.save(),o=0;o<m;++o)r=p[o],d&&r&&!r.hidden&&!r._model.skip?(s.push(i=new h(c,f,r,o)),i.update(i.$context={active:!1,chart:t,dataIndex:o,dataset:u,datasetIndex:a})):i=null,r.$datalabels=i;f.restore(),M.merge(l._listeners,c.listeners||{},{merger:function(t,n,o){n[t]=n[t]||{},n[t][e.index]=o[t],l._listened=!0}})},afterUpdate:function(t,e){t.$datalabels._labels=k.prepare(t.$datalabels._datasets,e)},afterDatasetsDraw:function(t){k.draw(t,t.$datalabels._labels)},beforeEvent:function(t,e){if(t.$datalabels._listened)switch(e.type){case"mousemove":case"mouseout":!function(t,e){var n,o,r=t.$datalabels,i=r._listeners;if(i.enter||i.leave){if("mousemove"===e.type)o=k.lookup(r._labels,e);else if("mouseout"!==e.type)return;n=r._hovered,r._hovered=o,function(t,e,n,o){var r,i;(n||o)&&(n?o?n.label!==o.label&&(i=r=!0):i=!0:r=!0,i&&S(t,e.leave,n),r&&S(t,e.enter,o))}(t,i,n,o)}}(t,e);break;case"click":!function(t,e){var n=t.$datalabels,o=n._listeners.click,r=o&&k.lookup(n._labels,e);r&&S(t,o,r)}(t,e)}},afterEvent:function(e){var n,r,i,a,l=e.$datalabels,s=l._actives,d=l._actives=e.lastActive||[],u=o.arrayDiff(s,d);for(n=0,r=u.length;n<r;++n)(i=u[n])[1]&&(a=i[0].$datalabels)&&(a.$context.active=1===i[1],a.update(a.$context));(l._dirty||u.length)&&(k.update(l._labels),function(e){if(!e.animating){for(var n=t.animationService.animations,o=0,r=n.length;o<r;++o)if(n[o].chart===e)return;e.render({duration:1,lazy:!0})}}(e)),delete l._dirty}};return t.plugins.register(O),O}(n("MO+k"))}}]);